---
title: Setting Up a Development Environment for MacOS for Mobile Programming (Part 2)
date: 2023-03-28 13:10:00 +0700
categories: ["Mobile Development", MacOS]
tags: ["Mobile Development", MacOS]
pin: false
---

## Installing XCode

### Introduction to XCode

XCode is an IDE developed and provided by Apple for application developers on the macOS operating system. XCode provides users with tools to develop iOS, macOS, watchOS, and tvOS applications.
XCode includes a source code editor, tools for debugging, and tools for managing source code versions. It also provides tools for designing user interfaces and testing applications on different devices.
Additionally, XCode supports other programming languages such as Swift, Objective-C, C++, and others. With XCode, users can develop applications for the App Store and other platforms on the Apple operating system.

Installing Xcode is quite simple, go to the App Store, search for XCode, and install it.

### Installing Cocoapods

CocoaPods is a library management tool for iOS and macOS applications. It allows you to easily add, remove, and update libraries from CocoaPods' repository.

To install CocoaPods on MacOS, you can follow these methods:

```bash
brew install cocoapods
```

or

```bash
gem install cocoapods
```

Note: The method using `gem` belongs to the Ruby programming language. If you follow this method, I encourage you to install `rbenv` or `rvm` to manage and create a local Ruby environment for your machine, avoiding "polluting" the default Ruby environment of MacOS.

### DevCleaner for XCode

I recommend installing DevCleaner for XCode (also in the AppStore) to clean up cache and derived data generated by XCode, especially for React Native, as this data can be enormous.

## Rosetta and Chip Architecture Issues

As of the time of writing this article, March 2023, most development environments have fully supported both Mac Intel and Mac Apple Silicon chip architectures.

However, if you have old projects or dependencies, such as `node-sass` v4, v5, ... You will need to consider supporting them as they have not been updated to support Apple's ARM chip. At this point, you need to know about Rosetta.

### What is Rosetta?

Rosetta on Mac is a tool that helps applications designed for Intel architecture run on new Mac computers using Apple's M1 chip. These applications are called "non-natively compatible applications" because they are not designed to run on the ARM-based M1 chip.

Rosetta is automatically installed on new Mac computers when installing non-natively compatible applications. When you install such an application, the system will automatically download and install Rosetta to help run the application on your computer. Applications running through Rosetta may be slower and not work as well as applications designed to run on ARM-based chips, but it still helps non-compatible applications run on new Mac computers.

### What Do You Need to Do with Rosetta?

By default, XCode and the terminal will support the latest chip, so Rosetta is not enabled.

If you need to develop old applications with Intel architecture, enable Rosetta for Terminal and Xcode, restart them, and all other editors, IDEs you use to open that project.

For example, to enable Rosetta for Xcode, follow these steps:

Step 1: Click the Xcode icon in your Applications folder to open it.

Step 2: Right-click the Xcode icon and select "Get Info".

Step 3: In the "Get Info" window, select the "Open using Rosetta" option.

Step 4: Close the "Get Info" window.

Step 5: Restart Xcode.

![picture 1](/assets/images/319239b8a29283a09317fa4eef1773f0689bc243de4a9747904b34d480e075f5.png)

## Java

Currently, the most stable Java version for Android development is Java 11, so installing multiple Java versions on one machine is unnecessary.
Additionally, the jEnv tool is not as good and flexible as `nvm`, `rbenv`, or `pyenv`.
Therefore, you only need to install a single fixed version of Java, which is Java 11.

Additionally, due to some licensing issues with Java, I suggest the best and easiest version to install is `Azul JDK`.

You can find it here: [https://www.azul.com/downloads/#zulu](https://www.azul.com/downloads/#zulu)

Azul SDK is also the built-in SDK integrated into Android Studio.

After installation, to set Java 11 as the default, add the following line to `~/.zshrc`:

```bash
export JAVA_HOME="/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home"
```

## Installing Android Studio

### Introduction to Android Studio

Android Studio is an integrated development environment (IDE) developed by Google for Android application development. It includes a complete development toolkit, including a code editor, code decoder, project manager, error checker, and APK decoder.

Android Studio is built on JetBrains' IntelliJ IDEA platform and has been developed since 2013. It is an officially recommended Android development tool by Google and is regularly updated to provide developers with new features and performance improvements.

Android Studio also provides many useful features for developers, including building user interfaces, managing resources, programming Android applications with Java or Kotlin, quickly creating application templates, and more.

Overall, Android Studio is an excellent development tool for creating high-quality Android applications, and it is widely used by developers worldwide.

(This section was also written with the help of AI)

### Installing Android Studio

Visit [https://developer.android.com/studio](https://developer.android.com/studio) and download the latest version of Android Studio. Note that at this step, you need to select the correct chip architecture you are using.

![picture 1](/assets/images/584f7b17a60b0691e93cc9be9ba8d111210fa1caf4e53d1fc95112ea1780a1d9.png)

### Configuring the Android Environment

After installation, open Android Studio in the `Applications` folder, perform some initialization steps, and wait for the application to download the Android SDK and reach the following interface:

![picture 1](/assets/images/3117ec54ae636d2f2e3b8076db004039bae13cb0db4be9470f6c55b06cf98497.png)

At the time of writing this article, the latest version is Android Studio Electric Eel.

Select the three-dot icon next to the `New Project` button

![picture 2](/assets/images/6e5d4f7e04c4590d1e9b218048a681323cebd7e4eb63e0be45624ff9b648a173.png)

Select `SDK Manager` to configure the corresponding SDK.

#### Android Platform Tools

In Android Platform Tools, select the Android platforms you need (usually the latest version, or older if you are working on older projects)

![picture 3](/assets/images/0f5913af314d691205a905b667fc6b0e57a44ed06de1f13a67695064dba457ce.png)

#### Android SDK Tools

In Android SDK Tools, select `Android SDK Command Line Tools`

This step is mandatory if you use Flutter.

Click OK to install.

#### Setting Environment Variables for Terminal

Open the `~/.zshrc` file and add to the end of the file:

```bash
# Android
export ANDROID_HOME="${HOME}/Library/Android/sdk"
export PATH="${PATH}:${ANDROID_HOME}/platform-tools"
export PATH="${PATH}:${ANDROID_HOME}/cmdline-tools"
export PATH="${PATH}:${ANDROID_HOME}/tools"
export PATH="${PATH}:${ANDROID_HOME}/tools/bin"
```

You can check the environment setup by opening a new Terminal and entering two commands to check if `adb` and `sdkmanager` have been added to `PATH`:

```bash
which adb

which sdkmanager
```

If you installed correctly, the Terminal will show the paths of the corresponding command files:

![picture 4](/assets/images/53fb3bb1a79188be4b8dcbccb40db6b60b89f31aa32dca3c7f334df89e695baf.png)

## Installing Flutter

If you use Flutter, you will need to install the Flutter SDK

### Download Flutter SDK

Visit [https://docs.flutter.dev/get-started/install/macos](https://docs.flutter.dev/get-started/install/macos) to download the latest Flutter SDK, remember to select the architecture corresponding to your MacOS computer's chip.

![picture 5](/assets/images/1309048bf1162c14cdb44e8a4844d8b3137b64f2409f27daafb2810f261c3961.png)

Hmm, let's see, writing this far, I see that Flutter has already provided instructions for configuring the environment. From top to bottom, you also understand the function of the `~/.zshrc` file, the `PATH` environment variable, and the ZSH shell in MacOS.

You can follow those instructions yourself at this step.

A suggestion is: I usually place `flutter` in the `/opt` directory, so my configuration in `~/.zshrc` will look like this:

```bash
# Flutter
export PATH="${PATH}:/opt/flutter/bin"
export PATH="${PATH}:/opt/flutter/bin/cache/dart-sdk/bin"
```

### Installing Chrome

Flutter uses Chrome as a debugger, so you need to install Google Chrome.

Or you can use any browser with a Chrome engine, but you will need to specify the path to that browser.

For example, I use `Microsoft Edge`, also edit the `~/.zshrc` file:

```bash
export CHROME_EXECUTABLE="/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge"
```

For other browsers, you do the same.
